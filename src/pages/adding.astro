---
import Kartelayout from "../layouts/Kartelayout.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import StarRating from "../components/StarRating.jsx";
import DiscoverKachel from "../components/DiscoverKachel.jsx";
---

<Kartelayout title="Parkbank App">
  <Header title="Parkbank hinzufügen" />
  <div class="map-container">
    <img class="map" src="./Assets/Map.png" />
  </div>

  <img id="output" />

  <div class="adding-picture-container">
    <div class="round-circle">
      <img class="image-plus" src="./Assets/image-plus.svg" />
      <input type="file" id="file-input-gallery" accept="image/*" />
    </div>
    <div class="round-circle">
      <img class="kamera-icon" src="./Assets/kamera-icon.svg" />
      <input type="file" id="file-input-camera" accept="image/*" capture="environment" />
    </div>
  </div>

  <div class="bewertungs-container">
    <h2 class ="bewerten">Parkbank bewerten</h2>
    <div class="d-flex">
      <h3 class="sauberkeit">Sauberkeit</h3>
      <StarRating client:load />
    </div>
    <div class="d-flex">
      <h3 class="aussicht">Aussicht</h3>
      <StarRating client:load />
    </div>
    <div class="d-flex">
      <h3 class="zustand">Zustand</h3>
      <StarRating client:load class="star-rating" />
    </div>
  </div>
  <div class ="d-flex">
    <div class="btn-primary">Hinzufügen</div>
  <Footer />
</Kartelayout>

<script>
  

document.addEventListener('astro:page-load', () =>{
	const output = document.getElementById('output');
	const fileInputCamera = document.getElementById('file-input-camera');
	const fileInputGallery = document.getElementById('file-input-gallery');

	fileInputCamera.addEventListener('change', (e) => doSomethingWithFiles(e.target.files),);
	fileInputGallery.addEventListener('change', (e) => doSomethingWithFiles(e.target.files),);

	function doSomethingWithFiles(fileList) {
	let file = null;

	file = fileList[0];

	if (file !== null) {
		output.src = URL.createObjectURL(file);
	}
	}
});
</script>

<style>
  .map {
    object-fit: cover;
  }

  .map-container {
    display: flex;
    justify-content: center;
    align-items: center;
	/* Beispielhöhe des Containers */
	margin: 1em 2em 2em 2em;
	width: 80vw;
	height: 10em;
	border-radius: 16px;
	overflow: hidden;
  }

  .round-circle {
    /* Layout Properties */
    width: 4em;
    height: 4em;
    display: flex;
    justify-content: center;
    align-items: center;
	position: relative;
    /* UI Properties */
    background: var(--unnamed-color-ffffff) 0% 0% no-repeat padding-box;
    background: #ffffff 0% 0% no-repeat padding-box;
    border-radius: 1000px;

	input{
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		opacity: 0;
		cursor: pointer;
	}
  

  .image-plus {
	width: 1.5em;
	height: 1.5em;
  }

  .kamera-icon {
	width: 1.5em;
	height: 1.5em;
  }
}
  

  .adding-picture-container {
    display: flex;
    justify-content: center;
    gap: 1em;
  }

  .bewertungs-container {
    margin-top: 3em;
    margin-left: 1.1em;
	margin-bottom: 5em;
  }


  .sauberkeit {
    margin-right: 1em;
    margin-top: -0.22em;
  }


  .aussicht {
    margin-right: 2em;
    margin-top: -0.22em;
  
  }

  .zustand {
    margin-right: 2.2em;
    margin-top: -0.22em;
    font-weight: 1em;
  }

  .bewerten {
    margin-bottom: 0.7em
  }

.btn-primary {
    top: 639px;
    left: 123px;
    width: 166px;
    height: 38px;
    margin-left: 7.6em;
    margin-top: -1em;
    background: var(--unnamed-color-000000) 0% 0% no-repeat padding-box;
    background: #000000 0% 0% no-repeat padding-box;
    color: white;
    border-radius: 13px;
    opacity: 1;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  
</style>